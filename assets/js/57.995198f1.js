(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{225:function(n,s,a){"use strict";a.r(s);var e=a(0),t=Object(e.a)({},(function(){this._self._c;return this._m(0)}),[function(){var n=this,s=n._self._c;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"安装网络"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装网络"}},[n._v("#")]),n._v(" 安装网络")]),n._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[n._v("docker")]),n._v(" network create "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("-d")]),n._v(" macvlan "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("--subnet")]),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("192.168")]),n._v(".124.0/24 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("--gateway")]),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[n._v("192.168")]),n._v(".124.1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[n._v("-o")]),n._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n._v("parent")]),s("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("eth0 macnet\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[n._v("创建openwrt目录\n"),s("code",[n._v("mkdir -p /volume2/docker/openwrt")])]),n._v(" "),s("p",[n._v("创建network文件\n"),s("code",[n._v("vim network")]),n._v("\n内容：")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("config interface 'loopback'\n        option ifname 'lo'\n        option proto 'static'\n        option ipaddr '127.0.0.1'\n        option netmask '255.0.0.0'\n\nconfig globals 'globals'\n        option packet_steering '1'\n\nconfig interface 'lan'\n        option type 'bridge'\n        option ifname 'eth0'\n        option proto 'static'\n        option netmask '255.255.255.0'\n        option ip6assign '60'\n        option ipaddr '192.168.124.101'\n        option gateway '192.168.124.1'\n        option dns '192.168.124.1'\n\nconfig interface 'vpn0'\n        option ifname 'tun0'\n        option proto 'none'\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br")])]),s("p",[n._v("拉取镜像并初始化")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("docker run --restart always --name openwrt -d --network macnet --privileged --ip 192.168.124.101  -v /volume2/docker/openwrt/network:/etc/config/network registry.cn-shanghai.aliyuncs.com/suling/openwrt:x86_64 /sbin/init\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[n._v("每日编译的")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("docker run --restart always --name openwrt -d --network macnet --privileged --ip 192.168.124.101 openwrt:latest /sbin/init\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])])])}],!1,null,null,null);s.default=t.exports}}]);